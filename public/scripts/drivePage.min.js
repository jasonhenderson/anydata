/*!
 * AnyData -  v1.0.0 (https://github.com/jasonhenderson/anydata.git)
 * Copyright 2016-2017 Jason Henderson
 * Licensed under GPLV3 (https://www.gnu.org/licenses/gpl-3.0.html)
 */
function getFromServer(e,t){ajaxServer({url:e,dataType:"json",method:"GET"},t)}function deleteFromServer(e,t){ajaxServer({url:e,dataType:"json",method:"DELETE"},t)}function postToServer(e,t,n){ajaxServer({url:e,dataType:"json",method:"POST",contentType:"application/json",data:JSON.stringify(t)},n)}function ajaxServer(e,t){t.button("loading"),$.ajax(e).done(function(e){setResults(e,t,"success","Call was successful!")}).fail(function(e){setResults(e.responseJSON,t,"danger","Error processing")}).always(function(){t.button("reset")})}function setResults(e,t,n,r){var i="";n&&(i+='<div class="alert alert-'+n+'" role="alert">'+r+"</div>"),e&&(i+="<pre>"+JSON.stringify(e,null,2)+"</pre>"),e.url&&(i+="<a target='_blank' href='"+e.url+"' class='btn btn-default btn-xs'>Click to Open</a>"),$("#results").html(i);var o=t.data("results");$("#resultsHeader").html("<h4>"+(o&&o.length?"Results for "+o:"Results")+"</h4>")}$(function(){$("#optionTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$("#clearResultsButton").click(function(){$("#results").html("<pre> </pre>"),$("#resultsHeader").html("<h4>Results</h4>")}),$("#sheet button").click(function(){var e=$("#sheet input").val();getFromServer("/sheet/"+e,$(this))}),$("#url button").click(function(){var e=$("#url input").val();getFromServer("/sheet/url/"+e,$(this))}),$("#newFolder button").click(function(){postToServer("/drive/folders/new",{title:$("#newFolder input").val()},$(this))}),$("#newSheet button").click(function(){postToServer("/sheets/new",{folderId:$("#newSheet input:nth-of-type(1)").val(),title:$("#newSheet input:nth-of-type(2)").val(),email:$("#newSheet input:nth-of-type(3)").val()},$(this))}),$("#sheetInfo button").click(function(){var e=$("#sheetInfo input").val();getFromServer("/sheet/info/"+e,$(this))}),$("#getFiles button").click(function(){var e=$("#getFiles input").val();getFromServer("/drive/files/"+e,$(this))}),$("#getFolders button").click(function(){var e=$("#getFolders input").val();getFromServer("/drive/folders/"+e,$(this))}),$("#find button").click(function(){var e=$("#find input").val();getFromServer("/drive/find/"+e,$(this))}),$("#info button").click(function(){var e=$("#info input").val();getFromServer("/drive/info/"+e,$(this))}),$("#rename button").click(function(){var e=$("#rename input:nth-of-type(1)").val(),t=$("#rename input:nth-of-type(2)").val();getFromServer("/drive/rename/"+e+"/"+t,$(this))}),$("#trash button").click(function(){var e=$("#trash input").val();deleteFromServer("/drive/trash/"+e,$(this))}),$("#untrash button").click(function(){postToServer("/drive/untrash",{fileId:$("#untrash input").val()},$(this))}),$("#emptyTrash button").click(function(){bootbox.confirm({message:"Are you SURE you want to remove all items in the trash?",buttons:{confirm:{label:"Yes, Empty Trash",className:"btn-danger"},cancel:{label:"Cancel",className:"btn-default"}},callback:function(e){e&&deleteFromServer("/drive/emptyTrash",$(this))}})})});